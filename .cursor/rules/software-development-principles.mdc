---
description: 
globs: 
alwaysApply: true
---
# 软件开发原则和指导方针

## 核心原则

### 第一性原理思维
在分析技术架构和代码模块时：
- 将复杂问题分解为基本组件
- 质疑假设并从底层构建解决方案
- 专注于基本元素及其关系
- 在实施解决方案前考虑问题的根本原因

### 代码质量原则

#### DRY (不要重复自己)
- 避免代码重复
- 将通用功能提取为可重用组件
- 维护业务逻辑的单一真实来源
- 使用继承、组合或实用函数来共享代码

#### KISS (保持简单，傻瓜)
- 编写简单、直接的代码
- 避免过度工程化
- 使代码易于理解和维护
- 选择最简单的有效解决方案

#### SOLID 原则
1. **单一职责原则 (SRP)**
   - 每个类/模块应只有一个变更理由
   - 专注于把一件事做好

2. **开放/封闭原则 (OCP)**
   - 对扩展开放，对修改封闭
   - 设计应对未来变化而不修改现有代码

3. **里氏替换原则 (LSP)**
   - 子类型必须能替代其基本类型
   - 保持行为兼容性

4. **接口隔离原则 (ISP)**
   - 保持接口小巧且专注
   - 客户端不应依赖它们不使用的方法

5. **依赖倒置原则 (DIP)**
   - 依赖于抽象，而非具体实现
   - 高层模块不应依赖低层模块

#### YAGNI (你不会需要它)
- 在必要之前不要添加功能
- 避免投机性开发
- 专注于当前需求
- 在需要时重构，而非提前

## 代码规模指导

### 文件大小管理
- 超过500行的文件应检查是否需要分解
- 考虑基于以下因素拆分大文件：
  - 单一职责原则
  - 功能的逻辑分组
  - 可维护性和可读性
  - 可测试性

### 重构大型组件
当遇到大型组件(>500行)时：
1. 识别不同的职责
2. 将相关功能提取到单独的模块中
3. 在组件之间创建清晰的接口
4. 维护提取部分之间的松散耦合
5. 确保每个新组件遵循SOLID原则

## 实施指导

### 代码组织
- 将相关功能分组在一起
- 使用清晰一致的命名约定
- 保持适当的关注点分离
- 记录复杂逻辑和架构决策

### 测试
- 为新功能编写测试
- 维护测试覆盖率
- 在适当时遵循测试驱动开发
- 确保测试简单且重点明确

### 文档
- 记录架构决策
- 提供清晰的API文档
- 包含使用示例
- 保持文档更新

请记住：这些原则是指导方针，而非严格规则。根据项目的特定背景和需求，合理地应用它们。

